/* Accessibility Preferences Stylesheet
 * Applies user accessibility preferences without breaking page layout
 * Uses CSS custom properties for dynamic scaling
 */

/* ============================================
   TEXT SIZE SCALING
   ============================================ */
[data-text-size="small"] { 
  --text-scale: 0.9; 
}

[data-text-size="medium"] { 
  --text-scale: 1; 
}

[data-text-size="large"] { 
  --text-scale: 1.15; 
}

[data-text-size="x-large"] { 
  --text-scale: 1.35; 
}

/* Apply scaling at root to affect rem-based sizes (no exponential nesting) */
:root[data-text-size] {
  font-size: calc(1rem * var(--text-scale));
}

/* ============================================
   FONT FAMILY CHANGES
   ============================================ */
:root[data-font-family="sans"] * { 
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important; 
}

:root[data-font-family="serif"] * { 
  font-family: Georgia, Cambria, "Times New Roman", Times, serif !important; 
}

:root[data-font-family="mono"] * { 
  font-family: "Courier New", Courier, monospace !important; 
}

:root[data-font-family="dyslexic"] * { 
  font-family: "Comic Sans MS", "Arial", sans-serif !important; 
  letter-spacing: 0.05em !important; 
}

/* ============================================
   LINE SPACING CHANGES
   ============================================ */
:root[data-line-spacing="compact"] * { 
  line-height: 1.3 !important; 
}

:root[data-line-spacing="normal"] * { 
  line-height: 1.6 !important; 
}

:root[data-line-spacing="relaxed"] * { 
  line-height: 1.9 !important; 
}

:root[data-line-spacing="loose"] * { 
  line-height: 2.2 !important; 
}

/* ============================================
   HIGH CONTRAST THEMES
   ============================================ */
[data-contrast-theme="high-contrast"] {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --card: 0 0% 5%;
  --card-foreground: 0 0% 100%;
  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 0%;
  --muted: 0 0% 10%;
  --muted-foreground: 0 0% 90%;
  --border: 0 0% 30%;
}

[data-contrast-theme="yellow-black"] {
  --background: 60 100% 50%;
  --foreground: 0 0% 0%;
  --card: 60 100% 45%;
  --card-foreground: 0 0% 0%;
  --primary: 0 0% 0%;
  --primary-foreground: 60 100% 50%;
  --muted: 60 100% 40%;
  --muted-foreground: 0 0% 20%;
  --border: 0 0% 20%;
}

[data-contrast-theme="black-yellow"] {
  --background: 0 0% 0%;
  --foreground: 60 100% 50%;
  --card: 0 0% 5%;
  --card-foreground: 60 100% 50%;
  --primary: 60 100% 50%;
  --primary-foreground: 0 0% 0%;
  --muted: 0 0% 10%;
  --muted-foreground: 60 100% 40%;
  --border: 60 100% 30%;
}

[data-contrast-theme="white-black"] {
  --background: 0 0% 100%;
  --foreground: 0 0% 0%;
  --card: 0 0% 98%;
  --card-foreground: 0 0% 0%;
  --primary: 0 0% 0%;
  --primary-foreground: 0 0% 100%;
  --muted: 0 0% 95%;
  --muted-foreground: 0 0% 30%;
  --border: 0 0% 80%;
}

[data-contrast-theme="black-white"] {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --card: 0 0% 5%;
  --card-foreground: 0 0% 100%;
  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 0%;
  --muted: 0 0% 10%;
  --muted-foreground: 0 0% 80%;
  --border: 0 0% 30%;
}

/* ============================================
   ENHANCED INPUT FOCUS
   ============================================ */
[data-enhance-inputs="true"] a,
[data-enhance-inputs="true"] button,
[data-enhance-inputs="true"] input,
[data-enhance-inputs="true"] select,
[data-enhance-inputs="true"] textarea,
[data-enhance-inputs="true"] [role="button"],
[data-enhance-inputs="true"] [tabindex="0"] {
  outline: 2px solid hsl(var(--primary) / 0.3) !important;
  outline-offset: 2px;
}

[data-enhance-inputs="true"] a:focus,
[data-enhance-inputs="true"] button:focus,
[data-enhance-inputs="true"] input:focus,
[data-enhance-inputs="true"] select:focus,
[data-enhance-inputs="true"] textarea:focus,
[data-enhance-inputs="true"] [role="button"]:focus,
[data-enhance-inputs="true"] [tabindex="0"]:focus {
  outline: 3px solid hsl(var(--primary)) !important;
  outline-offset: 2px;
}
